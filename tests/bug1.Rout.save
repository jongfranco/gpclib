
R version 3.6.2 Patched (2020-01-25 r77759) -- "Dark and Stormy Night"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin19.2.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> suppressMessages(library(gpclib))
> to_numeric <- selectMethod(coerce, c("gpc.poly", "numeric"))
> load("bug1_data.RData")
> plot(p)  ## loads a polygon, looks fine
> plot(as(vec, "gpc.poly"))  ## looks fine
> clip <- to_numeric(p); str(clip)
 num [1:17] 1 7 0 570545 7890092 ...
> 
> ## Crashes R 2.14 and 2.15 (32-bit) on Windows
> vec <- .Call(gpclib:::C_Rgpc_polygon_clip, vec, clip, 3)
> str(vec)
 num [1:2897] 73 123 0 682583 7914514 ...
> 
> proc.time()
   user  system elapsed 
  0.213   0.035   0.238 
